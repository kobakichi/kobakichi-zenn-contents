---
title: "Google Antigravityを使ってChrome拡張「Range Shot Annotator」を作りました"
emoji: "😎"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: ["chrome", "extension"]
published: true
---

## Google Antigravityを使ってChrome拡張「Range Shot Annotator」を作りました
某IT推進企業でAWSインフラエンジニアとして働いているkobakichiです。
普段はTerraform、Ansibleを使ってインフラ構築、保守を担当しています。
お正月休みを利用して何かやりたいなと思い、以下けいすけさんの記事に触発されて、Google Antigravityを使ってChrome拡張を作りました。

https://note.com/konho/n/nc338642fbcd8

初めてのChrome拡張機能作成でしたが、Chrome拡張機能の作成から公開手順まで完全にAntigravityにお任せし、2時間くらいで作成できました。

Google Antigravityのリンクはこちらです。
https://antigravity.google/pricing

Cursorなど色々な派閥の戦争が起こりそうですが、Antigravityかなり優秀なのではないでしょうか。

先月有料版に登録し1ヶ月間無料プレビューがついていたのですが、1月6日で切れてしまうのでどうしようといった具合です。

## 拡張機能概要

開発中のバグ報告や、作業手順書作成などで「画面の一部をスクショして、注目してほしい場所に赤枠をつけて送る」作業。
これ、地味に面倒くさいっす。

1. スクショを撮る (Cmd+Shift+4)
2. デスクトップに保存されたファイルを探す
3. プレビュー.app等で開いて赤枠をつける
4. クリップボードにコピー
5. チャットに貼り付け

この「5ステップ」を圧縮し、**「範囲選択 → 赤枠 → 即コピー」をブラウザ上で完結させる** Chrome拡張機能を作りました。

## Range Shot Annotator

https://chromewebstore.google.com/detail/range-shot-annotator/hianckcmiibcgejlmmckikmfmkjdenci?hl=ja&utm_source=ext_sidebar

完全無料でお使いいただけます。

## 何ができるのか？

この拡張機能では「簡単にスクショを撮り、赤枠の注釈を付けて資料にコピペする」ことが可能です。
色々な機能を詰め込んで便利にすることもいいのですが、今回はシンプルに、スクショ→赤枠の注釈→即時コピーという流れを実現することを目指しました。

### 1. 起動はホットキー一発
**`Cmd + Shift + S`** (Windowsは `Ctrl + Shift + S`) で、範囲選択モードに入ります。

**他のショートカットキーと被ってしまう場合**は、設定から変更してください。

### 2. その場で赤枠注釈
範囲を選択すると、自動的にその部分がクローズアップされた編集画面になり、**マウスをドラッグするだけ**で、直感的に「赤枠」を描画できます。
枠の移動やリサイズ、Undo（取り消し）も可能です。

### 3. 画像は保存せずに「コピー」
「送信」ボタンや「保存」ダイアログはなく、**`Enter` キーを押すだけ**で編集済みの画像がクリップボードに保存されます。
あとはSlackやGitHubのコメント欄で `Cmd + V` するだけ。
デスクトップがスクリーンショットだらけになることもありません。

### 4. 連続撮影モード
「Aの画面とBの画面、両方のスクショが欲しい」という時は、
**`Shift + Enter`** を押すと、コピーした上で即座に次の撮影モードに入ります。
継続して撮影することが可能です。

## 操作方法

操作方法は以下の通りです。

| 操作 | アクション |
| --- | --- |
| **起動** | `Cmd + Shift + S` (Win: `Ctrl + Shift + S`) |
| **範囲選択** | 画面上をドラッグ |
| **赤枠の追加** | プレビュー画面でドラッグ |
| **赤枠の移動** | 既存の赤枠をクリックしてドラッグ |
| **線の太さ変更** | マウスホイールをスクロール |
| **1つ戻る (Undo)** | `Backspace` または `Cmd + Z` |
| **全消去 (Clear)** | `C` |
| **キャンセル** | `Esc` |
| **コピーして終了** | `Enter` |
| **コピーして次へ** | `Shift + Enter` |

## この拡張機能はどんな課題を解決するのか

- **スクショ→注釈→添付までの手間を省く**: スクショ→赤枠の注釈を入れる、という作業を繰り返し行う際の一連の流れを短縮できます。
- **デスクトップの整理**: 「スクリーンショット 2024-...png」という一時ファイルが溜まるストレスから解放されます。

## 使用技術

このツールは、軽量・高速であることを重視して作られています。

- **Chrome Extension (Manifest V3)**: 最新の仕様に準拠し、セキュリティとパフォーマンスを確保しています。常駐プロセスを持たず、必要な時だけ起動するエコな設計です。
- **Vanilla JavaScript**: フレームワークのオーバーヘッドを避けるため、素のJavaScriptで記述しています。
- **HTML5 Canvas API**: 注釈機能（範囲選択・赤枠描画）の描画エンジンとして利用しています。
- **Clipboard API**: 画像データを直接クリップボードに書き込むために使用しています。

## まとめ

「たかがスクショ、されどスクショ」。
毎日の業務で繰り返す作業だからこそ、数秒の短縮が大きな快適さに繋がります。

もし「スクショ面倒だな」と感じたことがある方は、ぜひ一度試してみてください。

https://chromewebstore.google.com/detail/range-shot-annotator/hianckcmiibcgejlmmckikmfmkjdenci?hl=ja&utm_source=ext_sidebar
